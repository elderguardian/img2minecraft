<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>YUI</title>
    <script src="blockdata/blocks.js"></script>
    <script src="js/closestBlock.js"></script>
    <link rel="stylesheet" href="style/app.css">
</head>
<body>
    <form onsubmit="event.preventDefault(); onSearchFormSubmit()">
        <label for="searchedColorPicker">Pick a color to search:</label>
        <input type="color" id="searchedColorPicker">
        <input type="submit" value="Search">
    </form>

    <img id="outputImage" alt="found block" src="" width="200" height="200">

    <script>

        const colorPickerElement = document.getElementById('searchedColorPicker')
        const outputImageElement = document.getElementById('outputImage')

        const onSearchFormSubmit = () => {
            const searchedColorHex = colorPickerElement.value

            const searchedColorRgb = [
                parseInt(searchedColorHex.substring(1,3), 16),
                parseInt(searchedColorHex.substring(3,5), 16),
                parseInt(searchedColorHex.substring(5,7), 16)
            ]

            console.log(searchedColorRgb,  searchedColorHex)

            const blockFound = mostSimilarBlock(searchedColorRgb)
            const blockId = blockFound['id']

            outputImageElement.alt = blockId
            outputImageElement.src = `/blockdata/images/${blockId}`
        }

    </script>
</body>
</html>